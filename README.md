# 數學輸入工具 - 離散數學 & 線性代數

> 讓數學符號、證明樹、矩陣輸入變得簡單直觀的線上工具

## 💡 為什麼需要這個工具？

### 問題：數學輸入太困難
如果你正在學習離散數學、邏輯學或線性代數，你可能遇到以下困擾：

- **手寫太慢**：用紙筆寫數學符號很費時，尤其是需要畫出「證明樹」或「矩陣」
- **鍵盤打不出符號**：想打 `→`（蘊含）、`∧`（且）、`∨`（或）這些符號，或是畫矩陣，卻不知道怎麼輸入
- **矩陣排版很麻煩**：Word 裡插入矩陣要點很多次，還常常對不齊
- **需要交作業給老師或 AI**：想把證明過程或矩陣運算傳給老師批改，或讓 ChatGPT 幫忙檢查，但不知道怎麼轉成電腦能讀的格式
- **手機輸入更困難**：在手機上根本找不到這些特殊符號，更別說畫矩陣了

### 解決方案：多功能數學輸入工具
這個工具就像是「數學符號專用的打字機」，讓你：

✅ **點一下就能輸入符號** - 不用記快捷鍵，看到按鈕就能點  
✅ **自動排版成證明樹或矩陣** - 輸入完畢後，自動變成漂亮的視覺化圖形  
✅ **一鍵複製給 AI** - 複製標準格式，直接貼給 ChatGPT 或老師  
✅ **手機也能用** - 專為手機優化，隨時隨地都能輸入  
✅ **支援多種數學領域** - 離散數學、邏輯學、線性代數都能用

---

## 🎯 這個工具能做什麼？

### 主要用途
1. **輸入邏輯命題**：快速輸入 `p→q`、`~p∨q` 這類邏輯式
2. **建立證明樹**：把推理過程（前提 → 結論）清楚呈現
3. **輸入矩陣**：快速建立各種維度的矩陣（2×2、3×3、m×n）
4. **生成標準格式**：自動轉換成 LaTeX 格式（數學界的標準文件格式）

### 適合誰使用？
- 📚 **離散數學學生**：做邏輯證明作業、準備考試
- 📐 **線性代數學生**：輸入矩陣、計算矩陣運算
- 🧑‍🏫 **老師**：出題、製作教材
- 🤖 **需要跟 AI 溝通的人**：把數學問題清楚傳達給 ChatGPT

---

## ⭐ 核心功能特色

### 1. 四種輸入模式，隨需切換

#### 模式一：LaTeX 模式（推薦給要交作業的人）
- 點擊符號按鈕，自動轉成標準 LaTeX 格式
- 複製後可直接貼到論文、作業文件

#### 模式二：Unicode 符號模式（推薦給初學者）
- 直接輸入漂亮的符號（`→` `∧` `∨`）
- 方便閱讀，適合做筆記

#### 模式三：證明樹模式（邏輯證明專用）
- 專為建立「推理樹」設計
- 自動顯示行號，不會搞混每一行
- 輸入完立刻看到視覺化的證明樹

#### 模式四：**矩陣模式**（線性代數專用）🆕
- 專為輸入矩陣設計的鍵盤佈局
- 數字按鈕特大，負號、分隔符一應俱全
- 支援多種矩陣樣式：`[ ]` `( )` `| |` 等
- 自動檢測矩陣維度，即時預覽

---

### 2. 智慧型輸入輔助

#### 📍 行號自動顯示
- 切換到「證明樹模式」後，左側會自動出現行號（1, 2, 3...）
- 當前編輯的那一行會特別標示（藍色+粗體）
- 就像程式碼編輯器一樣，讓你知道現在在第幾行

#### ↵ 換行按鈕（綠色按鈕）
- 點一下就能換行，不用按鍵盤的 Enter
- 換行後會有**淡綠色閃爍動畫**，提醒你「現在可以輸入新的一行了」
- 動畫會在你開始打字後自動消失，不會干擾你

#### --- 橫線分隔符（橘色按鈕）
- 這是證明樹的「分界線」，用來分隔「前提」和「結論」
- 點一下自動插入，**橫線長度會自動調整**
- 橫線的長度 = 最長那行的字數 + 2（看起來剛剛好）

---

### 3. 手機優化設計（80% 使用者都用手機！）

#### 🎯 超大按鈕，好點又準確
- 所有按鈕最小 44×44 像素（符合手機觸控標準）
- 常用符號固定 4 個一排，不會擠在一起

#### 📱 長按輸入大寫字母
- 長按字母按鈕（p, q, t, r, f, s）500 毫秒
- 自動輸入大寫（P, Q, T, R, F, S）
- 手機會震動一下，告訴你「成功了」

#### 🎨 按鈕顏色有意義
- **綠色（↵）**：換行
- **橘色（---）**：橫線分隔
- **紅色（清空）**：刪除全部
- **藍色（📋 複製符號）**：最常用的功能，按鈕最大

---

### 4. 即時視覺化預覽

#### 下方顯示區會即時更新
- 你輸入的內容會馬上轉成「數學排版」的樣子
- 使用 MathJax 技術（全球數學網站都在用的渲染引擎）
- 證明樹模式下，會顯示完整的樹狀圖

#### 錯誤提示很友善
- 如果格式有問題（例如忘記加橫線），會出現**橘色提示框**
- 提示會自動消失，不會一直擋在畫面上
- 就算有錯誤，還是可以複製內容（不會卡住你）

---

### 5. 歷史紀錄自動儲存

#### 不怕手滑刪掉
- 每次輸入的內容會自動存到「歷史紀錄」
- 點擊「歷史紀錄」按鈕，可以看到之前輸入過的內容
- 點一下就能載入回來，不用重新打

#### 智慧摘要顯示
- 證明樹的歷史會顯示成：`[樹] 前提1, 前提2... ⇒ 結論`
- 不會顯示一大堆亂碼，一目瞭然

---

## 📖 使用教學（5 分鐘學會）

### 情境一：我想輸入一個簡單的證明樹

**目標**：證明「如果 p→q 且 ~q，那麼 ~p」

**步驟**：
1. 選擇「**證明樹模式**」（下拉選單）
2. 點擊按鈕輸入第一個前提：
   - 點 `p` → 點 `→` → 點 `q`
3. 點擊 **綠色換行按鈕（↵）**
4. 輸入第二個前提：
   - 點 `~` → 點 `q`
5. 點擊 **橘色橫線按鈕（---）**
6. 輸入結論：
   - 點 `~` → 點 `p`

**完成！** 下方會自動顯示證明樹圖

---

### 情境二：我要輸入一個矩陣（線性代數作業）

**目標**：輸入一個 3×2 矩陣
```
[12  -3]
[-4   5]
[ 4   1]
```

**步驟**：
1. 選擇「**矩陣模式**」（下拉選單）
2. 輸入第一列：
   - 點 `1` → 點 `2` → 點 `空格` → 點 `-` → 點 `3` → 點 `|`（換行）
3. 輸入第二列：
   - 點 `-` → 點 `4` → 點 `空格` → 點 `5` → 點 `|`（換行）
4. 輸入第三列：
   - 點 `4` → 點 `空格` → 點 `1`
5. （可選）選擇矩陣樣式：
   - 在「矩陣樣式」下拉選單選擇 `[ ] 方括號`（預設）

**完成！** 下方會自動顯示矩陣，並標示維度（3×2）

**提示**：
- `|` 符號（橘色按鈕）代表「換到下一列」
- 空格用來分隔同一列的不同數字
- 負號 `-` 直接點擊即可

---

### 情境三：我要把矩陣給 ChatGPT 看

**步驟**：
1. 在矩陣模式輸入矩陣後
2. 點擊「**📄 複製 LaTeX**」按鈕
3. 打開 ChatGPT，貼上並說「請幫我計算這個矩陣的...」
4. ChatGPT 會完美理解你的矩陣！

**為什麼要用 LaTeX？**  
LaTeX 是數學界的「標準語言」，就像音樂有五線譜一樣。ChatGPT、老師、學術論文都認識這個格式。

---

### 情境四：我只想做筆記，不需要複雜格式

**步驟**：
1. 選擇「**輸入/複製符號**」模式
2. 點擊符號按鈕輸入
3. 點「**📋 複製符號**」
4. 貼到 Word、記事本、手機備忘錄都可以

---

## 🔧 常見問題 FAQ

### Q1：我不懂 LaTeX 也能用嗎？
**A：當然可以！** 你完全不需要懂 LaTeX。這個工具會自動幫你轉換，你只要點按鈕就好。

### Q2：為什麼要用證明樹？直接寫一行不行嗎？
**A：** 證明樹能清楚顯示「推理的層次」。就像族譜圖比純文字清楚一樣，證明樹能讓你（和老師）一眼看出推理過程。

### Q3：橫線（---）有什麼用？
**A：** 橫線是「前提」和「結論」的分界。橫線上方是「已知條件」，下方是「推導出來的結果」。

### Q4：手機可以用嗎？
**A：** 可以！而且設計就是針對手機優化的。建議用 Chrome 或 Safari 瀏覽器。

### Q5：如果我手滑清空了怎麼辦？
**A：** 不用怕！點「歷史紀錄」按鈕，就能找回之前輸入的內容。

### Q6：長按字母可以輸入大寫，為什麼需要這個功能？
**A：** 數學證明裡有時需要用大寫字母（P, Q）代表不同的命題變數，長按功能讓你不用切換輸入法。

### Q7：矩陣模式怎麼輸入？`|` 符號是什麼？
**A：** `|` 是「換列」符號（橘色按鈕）。例如輸入 2×2 矩陣：
```
1 2 | 3 4
```
代表：
```
[1  2]
[3  4]
```
每個數字用空格分開，每一列用 `|` 分開。

### Q8：矩陣樣式有什麼差別？
**A：**
- **[ ] 方括號（bmatrix）**：最常用，一般矩陣都用這個
- **( ) 圓括號（pmatrix）**：某些教科書偏好這種
- **| | 行列式（vmatrix）**：計算行列式時用
- **無括號（matrix）**：特殊用途

### Q9：輸入矩陣時列長度不一樣怎麼辦？
**A：** 工具會自動檢測並顯示警告。例如第一列有 3 個數字，第二列只有 2 個，會出現橘色提示框。但仍可以複製（不會卡住你）。

### Q10：可以輸入小數嗎？
**A：** 可以！矩陣鍵盤有小數點按鈕（`.`），例如：`1.5 2.3 | 4.7 5.1`

---

## 🎨 符號說明（不知道符號代表什麼？看這裡）

### 離散數學符號

| 符號 | 名稱 | 意思 | 例子 |
|------|------|------|------|
| `~` 或 `¬` | 否定 | 「不是」、「非」 | `~p` = 不是 p |
| `→` | 蘊含 | 「如果...那麼」 | `p→q` = 如果 p 那麼 q |
| `∧` | 合取（且） | 「而且」 | `p∧q` = p 而且 q |
| `∨` | 析取（或） | 「或者」 | `p∨q` = p 或 q |
| `≡` | 等價 | 「等同於」 | `p≡q` = p 等同於 q |
| `↔` | 雙向蘊含 | 「若且唯若」 | `p↔q` = p 若且唯若 q |
| `∀` | 全稱量詞 | 「對所有」 | `∀x` = 對所有 x |
| `∃` | 存在量詞 | 「存在」 | `∃x` = 存在某個 x |

### 矩陣模式符號

| 符號 | 名稱 | 用途 | 例子 |
|------|------|------|------|
| `|` | 列分隔符 | 換到下一列（換行） | `1 2 | 3 4` = 兩列 |
| `空格` | 欄分隔符 | 分隔同一列的元素 | `1 2 3` = 一列三個元素 |
| `-` | 負號 | 負數 | `-5` = 負五 |
| `.` | 小數點 | 小數 | `1.5` = 一點五 |
| `⌫` | 退格鍵 | 刪除前一個字符 | - |

### 矩陣運算符號

| 符號 | 名稱 | 意思 |
|------|------|------|
| `×` 或 `·` | 乘法 | 矩陣乘法 |
| `T` | 轉置 | 矩陣轉置 |
| `⁻¹` | 反矩陣 | 矩陣的反矩陣 |
| `det` | 行列式 | 計算行列式值 |

---

## 💻 技術說明（給懂程式的人看）

### 核心技術
- **前端框架**：純 Vanilla JavaScript（無框架依賴）
- **數學渲染**：MathJax v3 + Bussproofs 擴充套件
- **離線支援**：PWA（Progressive Web App）架構
- **儲存機制**：LocalStorage API

### 檔案結構
```
10-2_多層_LaTeX-keyboard_Mathlive/
├── index.html          # 主頁面
├── css/
│   └── styles.css      # 樣式表（含響應式設計）
├── js/
│   └── app.js          # 核心邏輯
├── manifest.json       # PWA 配置
├── sw.js               # Service Worker（離線支援）
└── README.md           # 本說明文件
```

### 主要功能模組
- **行號顯示系統**：動態生成行號，同步滾動
- **DSL 解析器**：將簡化語法轉換為 Bussproofs LaTeX
- **事件處理**：長按檢測、觸控優化
- **錯誤處理**：友善的錯誤提示系統

---

## 📱 安裝到手機（可選）

### iPhone / iPad
1. 用 Safari 開啟這個網頁
2. 點擊底部的「分享」圖示
3. 選擇「加入主畫面」
4. 完成！現在可以像 App 一樣使用

### Android
1. 用 Chrome 開啟這個網頁
2. 點擊右上角選單（三個點）
3. 選擇「新增至主畫面」
4. 完成！

---

## 🎓 學習資源

### 推薦給初學者
- [離散數學基礎概念](https://example.com)（外部連結）
- [邏輯符號快速入門](https://example.com)（外部連結）

### 進階使用
- [LaTeX 數學符號完整列表](https://example.com)
- [Bussproofs 套件官方文件](https://example.com)

---

## 🤝 支援與回饋

### 遇到問題？
- 檢查瀏覽器是否為最新版本
- 確認已開啟 JavaScript
- 清除瀏覽器快取後重試

### 想要新功能？
- 歡迎在 Issues 頁面提出建議
- 如果你會寫程式，也歡迎發 Pull Request

---

## 📄 授權條款

本專案採用 MIT 授權條款，可自由使用、修改和分享。

---

## 🎉 開始使用吧！

**不需要安裝任何軟體，直接開啟 `index.html` 就能用！**

祝你數學學習順利！如果這個工具有幫到你，歡迎分享給同學朋友 😊

---

*最後更新：2025-10-03*  
*版本：v9.0.0*

